# Основи роботи з DOM 

DOM (Document Object Model) - це представлення веб сторінки у вигляді javascript об'єкту

Грубо кажучи з допомогою DOM ми можемо маніпулювати всим, що відображено на сторінці.

### Задачка: При кліку збільшити елемент в два рази, а при наступному, вернути в звичайне положення.

Перш за все, для того щоб нам щось зробити з елементом, нам потрібно його знайти, і отримати.

Для того щоб знайти елемент ми повинні звернутися до об'єкту `document` і викликати на ньому метод `querySelector` та передати в нього CSS селектор, після чого цей метод поверне тобі html element.

```js
const element = document.querySelector('.my-test-element');
```

Тепер, в константі element, в нас знаходиться HTML Element і нам потрібно зробити так, щоб коли користувач натиснув на нього, збільшити його в два рази.

Спочатку нам треба зрозуміти, як ми можемо відслідкувати, що на нього хтось натиснув. Кожний HTML Element має метод `addEventListener`, завдяки якому ми можемо слухати якусь певну подію, наприклад `click`.

`addEventListener(eventName, callback)` приймає 2 параметри:
- eventName - назва події, на яку ми хочемо якось реагувати
- callback - це функція, яка спрацює, коли подія відбудеться

```js
const element = document.querySelector('.my-test-element');

element.addEventListener('click', () => {
  console.log('you clicked me')
})
```

Тепер, коли користувач буде натискати на елемент, в консолі ми будемо бачити повідомлення 'you clicked me'.

Перейдемо до наступної частини, як зробити елемент в 2 рази більший? Перш за все, хочу сказати, що зміна вигляду елементів, тобто зміна його CSS стилів, майже нічим не відрізняєтсья від того, що ми робили в CSS. Для того щоб збільшити чи зменшити елемент, в CSS є така властивість як `transform: scale(1)`, де scale(1) - це звичайний стан елемента, scale(2) - елемент в 2 рази більший. По суті, нам треба на наш елемент, використовуючи javascript надати цю властивість.

Для того, щоб змінити CSS нашого елемента через JS, в кожного HTML Element є властивість style, і в цю властивість, ми вказуємо CSS властивості які ми хочемо надати

```js
const element = document.querySelector('.my-test-element');

element.addEventListener('click', () => {
  console.log('you clicked me')
  
  element.style.transform = 'translate: scale(2)';
  element.style.color = 'red';
  element.style.background = 'blue'
})
```

І цьому прикладі, я вказав більше властивостей чим ми планували, але таким чином ми зробили наш код краще.

Перша частина готова, тепер частина номер 2, як зробити так, щоб при наступному натисканні, ми вернули все в початкове положення.

Для цього нам треба створити додаткову змінну, в якій ми будемо зберігати інформацію про те, в якому стані знаходиться наш елемент.

```js
const element = document.querySelector('.my-test-element');

let isElementCliked = false;

element.addEventListener('click', () => {
  console.log('you clicked me')
  
  if (isElementCliked === false) {
    element.style.transform = 'translate: scale(2)';
    element.style.color = 'red';
    element.style.background = 'blue'
  } else {
    // повертаємо все в початкове положення
    element.style.transform = 'translate: scale(1)';
    element.style.color = 'black';
    element.style.background = 'white'
  }
})

```
В чистому javascript - це все робиться руками, на відмінну від реакту, де це все автоматизовано самим же реактом.

В цьому коді є ще декілька речей, які мені не подабаються
1. Якщо потрібно буде змінювати ще якусь властивість, треба буде дописувати її сюди 2 рази, перший, щоб встановити, а другий щоб повернути в початкове положення
2. В такому випадку, ми дуже сильно зав'язуємо CSS і JS, і це погано вплине на читабельність CSS і його підтримку, томущо, щоб перевірити які стилі мають, чи можуть бути, нам треба дивитися і CSS і JS
3. Якщо ми щось поміняємо в CSS, можливо нам треба буде це міняти і тут, плюс, людина яка буде міняти CSS навіть знати не буде, що там ще якісь стилі міняються в Javascript коді

Ця пробелма дуже сильно вирішується за допомогою класів. Що якщо замість того щоб давати стилі напряму через javascitp, ми просто додамо до елемента ще один додатковий клас, а коли треба буде повернути все до початкового стану, цей клас просто заберемо. В такому випадку, весь CSS буде в середині CSS файлів, і розробнику, який буде міняти CSS не треба буде переживати стосовно того, що там може бути в javascript коді.

Для маніпуляції класами, в кожного HTML Element є об'єкт classList, за допомогою якого ми легко можемо додати і забарти певний CSS клас, а також, первірити чи прикріпленний до цього елемента якийсь клас.

Визначимо, що коли потрібно буде збільшувати наш елемент, ми будемо додавати до нього клас `active`

Для того щоб додати клас, в об'єкті `classList` існує метод `add(className)` який в якості першого аргумента прийматє CSS клас який потрібно додати 

Для того щоб видалити клас, в об'єкті `classList` існує метод `remove(className)` який в якості першого аргумента прийматє CSS клас який потрібно видалити

```css
.my-test-element {
    transform: scale(1);
    color: black;
    background: white;
}

.my-test-element.active {
    transform: scale(2);
    color: red;
    background: blue;
}
```

```js
const element = document.querySelector('.my-test-element');

let isElementCliked = false;

element.addEventListener('click', () => {
  console.log('you clicked me')
  
  if (isElementCliked === false) {
    element.classList.add('active')
  } else {
    // повертаємо все в початкове положення
    element.classList.remove('active')
  }
})

```

Тепер наш Javascript не міняє напряму окремі стилі. Окрім цього, в classList є метод `contains` з допомогою якого ми можемо перевірити чи в нашого елемента є певний клас. Використовуючи цей метод, ми можемо покращити наш код, і прибрати додатково створенні змінну, яка тримає в собі інформацію про те, в якому стані знаходиться елемент. Тим самим, ми зробимо нашу функцію ще більш незалежною від зовнішніх факторів.

```js
const element = document.querySelector('.my-test-element');

element.addEventListener('click', () => {
  console.log('you clicked me')
  
  const isElementActive = element.classList.contains('active')
  
  if (isElementActive === false) {
    element.classList.add('active')
  } else {
    // повертаємо все в початкове положення
    element.classList.remove('active')
  }
})

```

От якось так.

До речі, таку методику роботи з CSS досі використовують сучасні фреймворки по типу react / angular / vue, але завдяки ним, тобі не треба вручну додавати і забирати це все, вони це зроблять за тебе.
